@using NFC.Data.Entities
@model NFC.Data.Entities.KT_MIC_WF_SPL

@{
	ViewData["Title"] = $"KT MIC & WF SPL - {Model.NUM}";
    ViewData["SubTitle"] = "Details";
    List<KT_MIC_WF_SPL> historyUpdateDatas = (List<KT_MIC_WF_SPL>)ViewData["HistoryUpdateData"];
}

<div>
    <div class="card">
        <div class="card-body">
            <table class="table table-bordered">
                <tbody>
					<tr>
						<td><b>NUM</b></td>
						<td>@Html.DisplayFor(model => model.NUM)</td>
						<td><b>Model</b></td>
						<td>@Html.DisplayFor(model => model.Model)</td>
					</tr>
                    <tr>
                        <td><b>@Html.DisplayNameFor(model => model.CH)</b></td>
                        <td>@Html.DisplayFor(model => model.CH)</td>
						<td><b>@Html.DisplayNameFor(model => model.DateTime)</b></td>
						<td>@Html.DisplayFor(model => model.DateTime)</td>
                        
                    </tr>
					<tr>
						<td><b>Speaker1 FRF Limit</b></td>
						<td>@Html.DisplayFor(model => model.FRFLimit)</td>
						<td><b>Speaker1 SPL[1kHz]</b></td>
						<td>@Html.DisplayFor(model => model.SPL_1kHz)</td>
					</tr>
					<tr>
						<td><b>Speaker1 Polarity</b></td>
						<td>@Html.DisplayFor(model => model.Polarity)</td>
						<td><b>Speaker1 THD Limit</b></td>
						<td>@Html.DisplayFor(model => model.THDLimit)</td>
					</tr>
					<tr>
						<td><b>Speaker1 Impedance Limit</b></td>
						<td>@Html.DisplayFor(model => model.ImpedanceLimit)</td>
						<td><b>MIC1 SEQ2 FRF Limit</b></td>
						<td>@Html.DisplayFor(model => model.MIC1SEQ2_FRFLimit)</td>
					</tr>
					<tr>
						<td><b>MIC1 SENS at 1kHz</b></td>
						<td>@Html.DisplayFor(model => model.MIC1SENS_1kHz)</td>
						<td><b>MIC1 Current</b></td>
						<td>@Html.DisplayFor(model => model.MIC1Current)</td>
					</tr>
					<tr>
						<td><b>MIC1 CUR_AVDD</b></td>
						<td>@Html.DisplayFor(model => model.MIC1CUR_AVDD)</td>
						<td><b>MIC1 CUR_DVDD</b></td>
						<td>@Html.DisplayFor(model => model.MIC1CUR_DVDD)</td>
					</tr>
					<tr>
						<td><b>Result</b></td>
						<td>@Html.DisplayFor(model => model.Result)</td>
						<td><b>Date Time</b></td>
						<td>@Html.DisplayFor(model => model.DateTime)</td>
					</tr>
                    <tr>
						<td><b>@Html.DisplayNameFor(model => model.Result)</b></td>
						<td>@Html.DisplayFor(model => model.Result)</td>
                        <td><b>@Html.DisplayNameFor(model => model.ProductionLine!.Name)</b></td>
                        <td>@Html.DisplayFor(model => model.ProductionLine!.Name)</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
	@if (historyUpdateDatas.Count > 0)
	{
		<div class="row">
			<div class="col-12">
				<div class="card">
					<div class="card-header">
						<h3 class="card-title">History Update Data</h3>
					</div>
					<!-- ./card-header -->
					<div class="card-body p-0">
						<table class="table table-hover">
							<tbody>
								@{
									var stt = 0;
									foreach (var item in historyUpdateDatas)
									{
										stt += 1;
										<tr class="expandable-body">
											<td>
												<div class="p-0">
													<table class="table table-hover">
														<tbody>
															<tr data-widget="expandable-table" aria-expanded="false">
																<td>
																	<i class="expandable-table-caret fas fa-caret-right fa-fw"></i>
																	Update on: @item.DateTime
																</td>
															</tr>
															<tr class="expandable-body">
																<td>
																	<div class="p-0">
																		<table class="table table-bordered">
																			<tbody>
																				<tr>
																					<td><b>NUM</b></td>
																					<td>@Html.DisplayFor(model => item.NUM)</td>
																					<td><b>Model</b></td>
																					<td>@Html.DisplayFor(model => item.Model)</td>
																				</tr>
																				<tr>
																					<td><b>@Html.DisplayNameFor(model => item.CH)</b></td>
																					<td>@Html.DisplayFor(model => item.CH)</td>
																					<td><b>@Html.DisplayNameFor(model => item.DateTime)</b></td>
																					<td>@Html.DisplayFor(model => item.DateTime)</td>

																				</tr>
																				<tr>
																					<td><b>Speaker1 FRF Limit</b></td>
																					<td>@Html.DisplayFor(model => item.FRFLimit)</td>
																					<td><b>Speaker1 SPL[1kHz]</b></td>
																					<td>@Html.DisplayFor(model => item.SPL_1kHz)</td>
																				</tr>
																				<tr>
																					<td><b>Speaker1 Polarity</b></td>
																					<td>@Html.DisplayFor(model => item.Polarity)</td>
																					<td><b>Speaker1 THD Limit</b></td>
																					<td>@Html.DisplayFor(model => item.THDLimit)</td>
																				</tr>
																				<tr>
																					<td><b>Speaker1 Impedance Limit</b></td>
																					<td>@Html.DisplayFor(model => item.ImpedanceLimit)</td>
																					<td><b>MIC1 SEQ2 FRF Limit</b></td>
																					<td>@Html.DisplayFor(model => item.MIC1SEQ2_FRFLimit)</td>
																				</tr>
																				<tr>
																					<td><b>MIC1 SENS at 1kHz</b></td>
																					<td>@Html.DisplayFor(model => item.MIC1SENS_1kHz)</td>
																					<td><b>MIC1 Current</b></td>
																					<td>@Html.DisplayFor(model => item.MIC1Current)</td>
																				</tr>
																				<tr>
																					<td><b>MIC1 CUR_AVDD</b></td>
																					<td>@Html.DisplayFor(model => item.MIC1CUR_AVDD)</td>
																					<td><b>MIC1 CUR_DVDD</b></td>
																					<td>@Html.DisplayFor(model => item.MIC1CUR_DVDD)</td>
																				</tr>
																				<tr>
																					<td><b>Result</b></td>
																					<td>@Html.DisplayFor(model => item.Result)</td>
																					<td><b>Date Time</b></td>
																					<td>@Html.DisplayFor(model => item.DateTime)</td>
																				</tr>
																				<tr>
																					<td><b>@Html.DisplayNameFor(model => item.Result)</b></td>
																					<td>@Html.DisplayFor(model => item.Result)</td>
																					<td><b>@Html.DisplayNameFor(model => item.ProductionLine!.Name)</b></td>
																					<td>@Html.DisplayFor(model => item.ProductionLine!.Name)</td>
																				</tr>
																			</tbody>
																		</table>
																	</div>
																</td>
															</tr>
														</tbody>
													</table>
												</div>
											</td>
										</tr>
									}
								}

							</tbody>
						</table>
					</div>
					<!-- /.card-body -->
				</div>
				<!-- /.card -->
			</div>
		</div>
	}
</div>
<div class="row">
    @* <div class="col-sm-1">
        <a asp-action="Edit" class="btn btn-block btn-warning " asp-route-id="@Model?.Id">Edit</a>
    </div> *@
    <div class="col-sm-1">
        <a asp-action="Index" class="btn btn-block btn-danger">Back to List</a>
    </div>
</div>
